<% const layoutData={ title: 'Manage Users' , user: user, body: ` <div
    style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h2 style="color: #333; margin: 0;">ğŸ‘¥ All Users</h2>
        <a href="/admin/users/new"
            style="padding: 10px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 6px; font-weight: 500;">
            â• Create User
        </a>
    </div>

    ${users.length === 0 ? `
    <p style="color: #666; text-align: center; padding: 40px;">No users found.</p>
    ` : `
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 2px solid #dee2e6;">
                <th style="padding: 12px; text-align: left; color: #666; font-weight: 600; font-size: 14px;">Email</th>
                <th style="padding: 12px; text-align: left; color: #666; font-weight: 600; font-size: 14px;">Role</th>
                <th style="padding: 12px; text-align: left; color: #666; font-weight: 600; font-size: 14px;">Created
                </th>
                <th style="padding: 12px; text-align: center; color: #666; font-weight: 600; font-size: 14px;">Actions
                </th>
            </tr>
        </thead>
        <tbody>
            ${users.map(u => `
            <tr style="border-bottom: 1px solid #e9ecef;">
                <td style="padding: 12px; color: #333; font-size: 14px;">
                    <strong>${u.email}</strong>
                </td>
                <td style="padding: 12px; font-size: 14px;">
                    <span
                        style="padding: 4px 12px; background: ${u.role === 'admin' ? '#667eea' : '#f093fb'}; color: white; border-radius: 12px; font-size: 12px; font-weight: 500;">
                        ${u.role === 'admin' ? 'ğŸ‘‘ Admin' : 'ğŸ‘¤ User'}
                    </span>
                </td>
                <td style="padding: 12px; color: #666; font-size: 14px;">
                    ${new Date(u.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day:
                    'numeric' })}
                </td>
                <td style="padding: 12px; text-align: center;">
                    <a href="/admin/users/${u.id}"
                        style="padding: 6px 12px; background: #667eea; color: white; text-decoration: none; border-radius: 4px; font-size: 13px; margin-right: 5px;">
                        View
                    </a>
                </td>
            </tr>
            `).join('')}
        </tbody>
    </table>
    `}

    <div style="margin-top: 30px;">
        <a href="/me" style="color: #667eea; text-decoration: none; font-size: 14px;">â† Back to Dashboard</a>
    </div>
    </div>
    `
    };
    %>
    <%- include('layout', layoutData) %>